(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=(a(64),function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,150)).then(function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),l(e),o(e),r(e)})}),r=a(67),c=a(13),i=(a(90),a(70)),m=a(155),u=a(153),s=a(159),d=a(48),E=a(158),p=a(161),f=a(103),h=a.n(f),g=function(e){var t=Object(n.useState)(e.item),a=Object(c.a)(t,2),o=a[0],r=a[1],f=e.editItem,g=Object(n.useState)(!0),w=Object(c.a)(g,2),v=w[0],b=w[1],y=e.deleteItem;return l.a.createElement(m.a,null,l.a.createElement(u.a,{checked:o.done,onChange:function(e){o.done=e.target.checked,f(o)}}),l.a.createElement(s.a,null,l.a.createElement(d.c,{inputProps:{"aria-label":"naked",readOnly:v},onClick:function(){b(!1)},onKeyDown:function(e){"Enter"===e.key&&!1===v&&(b(!0),f(o))},onChange:function(e){r(Object(i.a)({},o,{title:e.target.value}))},type:"text",id:o.id,name:o.id,value:o.title,multiline:!0,fullwidth:!0})),l.a.createElement(E.a,null,l.a.createElement(p.a,{"aria-label":"Delete Todo",onClick:function(){y(o)}},l.a.createElement(h.a,null))))},w=a(162),v=a(163),b=a(164),y=a(165),C=a(156),S=a(160),O=a(157),x=a(166),T=a(151),j=function(e){console.log("AddTodo \uc2e4\ud589");var t=Object(n.useState)({title:""}),a=Object(c.a)(t,2),o=a[0],r=a[1],i=e.addItem,m=function(){console.log("onButtonClick \uc2e4\ud589"),i(o),r({title:""})};return l.a.createElement(C.a,{container:!0,style:{marginTop:20}},l.a.createElement(C.a,{xs:11,md:11,item:!0,style:{paddingRight:16}},l.a.createElement(T.a,{placeholder:"Add Todo here",fullwidth:!0,onChange:function(e){console.log("onInputChange \uc2e4\ud589"),r({title:e.target.value}),console.log(o)},onKeyPress:function(e){console.log("enterKeyEventHandler \uc2e4\ud589"),"Enter"===e.key&&m()},value:o.title})),l.a.createElement(C.a,{xs:1,md:1,item:!0},l.a.createElement(O.a,{fullwidth:!0,style:{height:"100%"},color:"secondary",variant:"outlined",onClick:m},"+")))},k=window&&window.location&&window.location.hostname,I="".concat("localhost"===k?"http://localhost:8080":"http://prod-todo-api-service-test.ap-northeast-2.elasticbeanstalk.com");function D(e,t,a){var n=new Headers({"Content-Type":"application/json"}),l=localStorage.getItem("ACCESS_TOKEN");l&&null!==l&&n.append("Authorization","Bearer "+l);var o={headers:n,url:I+e,method:t};return a&&(o.body=JSON.stringify(a)),fetch(o.url,o).then(function(e){if(200===e.status)return e.json();403===e.status?window.location.href="/login":new Error(e)}).catch(function(e){console.log("http error"),console.log(e)})}function A(){localStorage.setItem("ACCESS_TOKEN",null),window.location.href="/login"}var F=function(){console.log("Appjs \uc2e4\ud589");var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!0),i=Object(c.a)(r,2),m=i[0],u=i[1];Object(n.useEffect)(function(){D("/todo","GET",null).then(function(e){o(e.data),u(!1)})},[]);var s=function(e){D("/todo","PUT",e).then(function(e){return o(e.data)})},d=function(e){D("/todo","DELETE",e).then(function(e){return o(e.data)})},E=a.length>0&&l.a.createElement(w.a,{style:{margin:16}},l.a.createElement(v.a,null,a.map(function(e){return l.a.createElement(g,{item:e,key:e.id,editItem:s,deleteItem:d})}))),p=l.a.createElement(b.a,{position:"static"},l.a.createElement(y.a,null,l.a.createElement(C.a,{justifyContent:"space-between",container:!0},l.a.createElement(C.a,{item:!0},l.a.createElement(S.a,{variant:"h6"},"\uc624\ub298\uc758 \ud560\uc77c")),l.a.createElement(C.a,{item:!0},l.a.createElement(O.a,{color:"inherit",raised:!0,onClick:A},"\ub85c\uadf8\uc544\uc6c3"))))),f=l.a.createElement("div",null,p," ",l.a.createElement(x.a,{maxWidth:"md"},l.a.createElement(j,{addItem:function(e){D("/todo","POST",e).then(function(e){return o(e.data)})}}),l.a.createElement("div",{className:"TodoList"},E))),h=l.a.createElement("h1",null," \ub85c\ub529\uc911.. ");return m||(h=f),l.a.createElement("div",{className:"App"},h)},P=a(41);var K=function(){return l.a.createElement(x.a,{component:"main",maxWidth:"xs",style:{marginTop:"8%"}},l.a.createElement(C.a,{container:!0,spacing:2},l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(S.a,{component:"h1",variant:"h5"},"\ub85c\uadf8\uc778"))),l.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),a=t.get("username"),n=t.get("password");D("/auth/signin","POST",{username:a,password:n}).then(function(e){e.token&&(localStorage.setItem("ACCESS_TOKEN",e.token),window.location.href="/")})}}," ",l.a.createElement(C.a,{container:!0,spacing:2},l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(T.a,{variant:"outlined",required:!0,fullwidth:!0,id:"username",label:"\uc544\uc544\ub514",name:"username",autoComplete:"username"})),l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(T.a,{variant:"outlined",required:!0,fullwidth:!0,name:"password",label:"\ud328\uc2a4\uc6cc\ub4dc",type:"password",id:"password",autoComplete:"current-password"})),l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(O.a,{type:"submit",fullwidth:!0,variant:"contained",color:"primary"},"\ub85c\uadf8\uc778")),l.a.createElement(C.a,{item:!0},l.a.createElement(P.b,{to:"/signup",variant:"body2"},"\uacc4\uc815\uc774 \uc5c6\uc2b5\ub2c8\uae4c? \uc5ec\uae30\uc11c \uac00\uc785\ud558\uc138\uc694.")))))};var N=function(){return l.a.createElement(x.a,{component:"main",maxWidth:"xs",style:{marginTop:"8%"}},l.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),n=a.get("username"),l=a.get("password");(t={username:n,password:l},D("/auth/signup","POST",t)).then(function(e){window.location.href="/login"})}},l.a.createElement(C.a,{container:!0,spacing:2},l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(S.a,{component:"h1",variant:"h5"},"\uacc4\uc815 \uc0dd\uc131")),l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(T.a,{autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullwidth:!0,id:"username",label:"\uc544\uc774\ub514",autoFocus:!0})),l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(T.a,{variant:"outlined",required:!0,fullwidth:!0,name:"password",label:"\ud328\uc2a4\uc6cc\ub4dc",type:"password",id:"password",autoComplete:"current-password"})),l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(O.a,{type:"submit",fullwidth:!0,variant:"contained",color:"primary"},"\uacc4\uc815 \uc0dd\uc131"))),l.a.createElement(C.a,{container:!0,justify:"flex-end"},l.a.createElement(C.a,{item:!0},l.a.createElement(P.b,{to:"/login",variant:"body2"},"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc2b5\ub2c8\uae4c? \ub85c\uadf8\uc778\ud558\uc138\uc694.")))))},q=a(5),B=a(167);function L(){return l.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright","fsoftwareengineer, ",(new Date).getFullYear(),".")}var J=function(){return l.a.createElement("div",null,l.a.createElement(P.a,null,l.a.createElement(q.c,null,l.a.createElement(q.a,{path:"/",element:l.a.createElement(F,null)}),l.a.createElement(q.a,{path:"login",element:l.a.createElement(K,null)}),l.a.createElement(q.a,{path:"signup",element:l.a.createElement(N,null)}))),l.a.createElement(B.a,{mt:5},l.a.createElement(L,null)))},W=document.getElementById("root");Object(r.createRoot)(W).render(l.a.createElement(J,{tab:"home"})),o(),o()},64:function(e,t,a){},81:function(e,t,a){e.exports=a(108)},90:function(e,t,a){}},[[81,3,2]]]);
//# sourceMappingURL=main.fcd2c6a9.chunk.js.map